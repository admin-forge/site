<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel - MC Admin Forge</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<main>
  <section class="card" id="loginSection">
    <h1>Connexion Admin</h1>

    <p>Se connecter avec Discord :</p>
    <a class="discord-btn" id="discordLogin"
       href="https://discord.com/oauth2/authorize?client_id=1324712992910213150&response_type=code&redirect_uri=https%3A%2F%2Fadmin-forge.github.io%2Fsite%2Fadmin.html&scope=email+guilds.join">
       Se connecter avec Discord
    </a>

    <p>Ou utilisez le mot de passe secondaire :</p>
    <input type="password" id="adminPass" placeholder="Mot de passe secondaire">
    <button class="main-btn" id="loginBtn">Se connecter</button>

    <p class="error-msg" id="errorMsg">Mot de passe incorrect !</p>
  </section>

  <section class="card" id="dashboardSection" style="display:none;">
    <h1>Bienvenue Admin ! ðŸŽ‰</h1>
    <div id="confettiContainer"></div>

    <div class="cards">
      <div class="card"><h3>GÃ©rer les joueurs</h3></div>
      <div class="card"><h3>Outils serveur</h3></div>
      <div class="card"><h3>Tickets Support</h3></div>
      <div class="card"><h3>Statistiques</h3></div>
      <div class="card"><h3>Contributeurs</h3></div>
    </div>
    <button class="main-btn" id="logoutBtn">Se dÃ©connecter</button>
  </section>
</main>

<script src="header.js"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script>
// ==== Mot de passe secondaire ====
const loginBtn = document.getElementById('loginBtn');
const logoutBtn = document.getElementById('logoutBtn');
const adminPass = document.getElementById('adminPass');
const errorMsg = document.getElementById('errorMsg');
const loginSection = document.getElementById('loginSection');
const dashboardSection = document.getElementById('dashboardSection');

const CORRECT_PASS = "MonSuperMotDePasse123"; // Change ici ton mot de passe

function launchConfetti(){
  confetti({
    particleCount: 150,
    spread: 70,
    origin: { y: 0.6 }
  });
}

loginBtn.addEventListener('click', ()=>{
  if(adminPass.value === CORRECT_PASS){
    loginSection.style.display = "none";
    dashboardSection.style.display = "block";
    errorMsg.style.display = "none";
    launchConfetti();
  } else {
    errorMsg.style.display = "block";
  }
});

logoutBtn.addEventListener('click', ()=>{
  dashboardSection.style.display = "none";
  loginSection.style.display = "block";
  adminPass.value = "";
});

// ==== Connexion Discord automatique si code prÃ©sent ====
window.addEventListener('load', ()=>{
  const urlParams = new URLSearchParams(window.location.search);
  if(urlParams.has('code')){
    loginSection.style.display = "none";
    dashboardSection.style.display = "block";
    launchConfetti();
  }
});
</script>
</body>
</html>

